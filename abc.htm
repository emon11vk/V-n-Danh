<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>V·∫•n Danh - DSTC Visual Novel</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary: #ff9eb5; 
            --bg-dark: #12121a;
            --panel-bg: rgba(30, 30, 45, 0.8);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Quicksand', sans-serif; }
        body { background: var(--bg-dark); color: white; overflow: hidden; height: 100vh; }

        /* ------------------------------------- */
        /* PH·∫¶N 1: VISUAL NOVEL (VIDEO + THO·∫†I)  */
        /* ------------------------------------- */
        #vn-engine { position: fixed; inset: 0; z-index: 10; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 1s; }
        
        .bg-video { position: fixed; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.5s ease; z-index: 1; pointer-events: none;}
        .active-vid { opacity: 1 !important; z-index: 2; }

        /* M√ÄN H√åNH INTRO ƒêI·ªÜN ·∫¢NH */
        #intro-screen { position: fixed; inset: 0; background: #000; z-index: 100; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 1.5s; }
        
        #logo-cte { width: 300px; opacity: 0; transform: scale(0.8); transition: all 1.5s ease; position: absolute; }
        
        #game-title { 
            font-size: 90px; color: #fff; opacity: 0; transform: scale(1.1); 
            transition: all 2s cubic-bezier(0.25, 0.8, 0.25, 1); 
            text-shadow: 0 0 20px rgba(255, 158, 181, 0.5), 0 0 50px rgba(255, 158, 181, 0.8); 
            letter-spacing: 15px; font-weight: 900; text-transform: uppercase;
            position: absolute; text-align: center; margin-bottom: 50px;
        }

        #start-btn { 
            display: none; opacity: 0; position: absolute; bottom: 25%;
            padding: 12px 35px; font-size: 18px; background: rgba(255,255,255,0.05); 
            border: 2px solid var(--primary); color: var(--primary); 
            border-radius: 30px; cursor: pointer; transition: all 0.5s ease; 
            font-weight: 800; backdrop-filter: blur(5px); letter-spacing: 2px;
        }
        #start-btn:hover { background: var(--primary); color: #000; box-shadow: 0 0 20px rgba(255, 158, 181, 0.6); transform: translateY(-5px); }

        #black-out { position: fixed; inset: 0; background: #000; z-index: 50; opacity: 0; pointer-events: none; transition: opacity 1.5s; }

        .glass-panel { background: rgba(20, 20, 35, 0.85); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2); border-radius: 24px; padding: 30px 40px; width: 85%; max-width: 800px; position: absolute; bottom: 8%; opacity: 0; transition: all 0.5s ease; z-index: 20; }
        .show-panel { opacity: 1; transform: translateY(0); pointer-events: auto; }
        .hide-panel { opacity: 0 !important; transform: translateY(50px) !important; pointer-events: none; }

        .sub-text { font-size: 20px; line-height: 1.6; min-height: 80px; text-align: center; white-space: pre-line; text-shadow: 1px 1px 5px #000; }
        .cursor { display: inline-block; width: 8px; height: 20px; background: var(--primary); animation: blink 0.8s infinite; vertical-align: middle; margin-left: 5px;}
        @keyframes blink { 50% { opacity: 0; } }

        #options { margin-top: 25px; display: none; width: 100%; }
        .option-btn { display: flex; align-items: center; gap: 15px; width: 100%; padding: 15px 25px; margin-bottom: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255,255,255,0.1); border-left: 6px solid var(--primary); border-radius: 16px; color: white; font-size: 16px; font-weight: 700; cursor: pointer; transition: 0.3s; text-align: left; }
        .option-btn:hover { background: rgba(255, 158, 181, 0.15); border-color: var(--primary); transform: translateX(10px); }

        /* ------------------------------------- */
        /* PH·∫¶N 2: WEB PROFILE DSTC              */
        /* ------------------------------------- */
        #web-profile-page {
            position: fixed; inset: 0; background: var(--bg-dark); z-index: 200;
            display: none; opacity: 0; transition: opacity 1.5s ease;
            overflow-y: auto; padding: 40px 20px;
        }

        .profile-container { max-width: 1000px; margin: 0 auto; background: var(--panel-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .cover-photo { height: 200px; width: 100%; background: linear-gradient(135deg, #ff9eb5, #a29bfe, #00d2d3); background-size: 200% 200%; animation: gradientBG 5s ease infinite; }
        @keyframes gradientBG { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }

        .profile-header { padding: 0 40px 20px; display: flex; align-items: flex-end; gap: 25px; margin-top: -60px; }
        .profile-avatar { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 6px solid var(--panel-bg); background: #000; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .profile-title { padding-bottom: 10px; }
        .profile-title h1 { font-size: 32px; display: flex; align-items: center; gap: 10px; }
        .badge { background: var(--primary); color: #000; font-size: 12px; padding: 4px 10px; border-radius: 20px; font-weight: 800; vertical-align: middle; }
        .profile-subtitle { color: #aaa; font-size: 16px; margin-top: 5px; }

        .profile-content { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 20px 40px 40px; }
        .info-card { background: rgba(0,0,0,0.3); border-radius: 16px; padding: 25px; border: 1px solid rgba(255,255,255,0.05); }
        .info-card h3 { color: var(--primary); margin-bottom: 15px; font-size: 18px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;}
        .info-item { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; font-size: 15px; color: #ccc; }
        .info-item strong { color: #fff; width: 100px; }

        .chat-section { background: #151520; border-radius: 16px; border: 1px solid var(--primary); display: flex; flex-direction: column; height: 400px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .chat-header { background: var(--primary); color: #000; padding: 15px; font-weight: 800; text-align: center; }
        .chat-body { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
        .msg { padding: 10px 15px; border-radius: 18px; max-width: 85%; font-size: 14px; line-height: 1.4; animation: fadeInMsg 0.3s ease; }
        @keyframes fadeInMsg { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
        .msg.ice { background: rgba(255,255,255,0.1); align-self: flex-start; border-bottom-left-radius: 4px; }
        .msg.me { background: var(--primary); color: #000; align-self: flex-end; border-bottom-right-radius: 4px; font-weight: 700; }
        
        .chat-actions { padding: 15px; border-top: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); display: none; }
        .quick-reply { background: transparent; border: 1px solid var(--primary); color: var(--primary); padding: 12px 15px; border-radius: 20px; font-size: 13px; font-weight: 700; cursor: pointer; transition: 0.2s; text-align: left; width: 100%; margin-bottom: 8px; }
        .quick-reply:hover { background: var(--primary); color: #000; }
        .quick-reply.bad { border-color: #ff7675; color: #ff7675; }
        .quick-reply.bad:hover { background: #ff7675; color: #000; }

        /* ------------------------------------- */
        /* M√ÄN H√åNH GAME OVER XUY√äN TH·∫§U */
        /* ------------------------------------- */
        #game-over-screen { 
            position: fixed; inset: 0; display: none; justify-content: center; align-items: center; 
            flex-direction: column; z-index: 3000; background: rgba(0,0,0,0.4); pointer-events: none; 
        }
        .game-over-text { 
            font-size: 100px; color: #ff2a2a; text-shadow: 4px 4px 10px #000, -2px -2px 0 #000; 
            margin-bottom: 20px; font-weight: 900; letter-spacing: 5px;
            animation: popWasted 0.5s ease forwards; opacity: 0; transform: scale(1.5);
        }
        @keyframes popWasted { to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

    <video id="vid-thiennhien" class="bg-video" loop playsinline><source src="thiennhien.mp4" type="video/mp4"></video>
    <video id="vid-timmatch" class="bg-video" loop playsinline><source src="tim-match.mp4" type="video/mp4"></video>
    <video id="vid-matchxong" class="bg-video" playsinline><source src="match-thanh-cong.mp4" type="video/mp4"></video>
    <video id="vid-ngu" class="bg-video" playsinline><source src="di-ngu.mp4" type="video/mp4"></video>
    <video id="vid-ngaonghe" class="bg-video" playsinline><source src="ngaonghe.mp4" type="video/mp4"></video>

    <div id="black-out"></div>

    <div id="intro-screen">
        <img id="logo-cte" src="cte.png" alt="CTE Logo" onerror="this.src='cte.jpg'">
        <h1 id="game-title">V·∫§N DANH</h1>
        <button id="start-btn" onclick="startGame()">‚ñ∂ B·∫ÆT ƒê·∫¶U TR·∫¢I NGHI·ªÜM</button>
    </div>

    <div id="vn-engine">
        <div id="panel" class="glass-panel">
            <div id="text-display" class="sub-text"></div>
            <div id="options">
                <button class="option-btn" onclick="choose('A')"><span class="option-icon">üí§</span> <span>B·ªè qua m√†n n√†y, ƒëi ng·ªß gi·ªØ s·ª©c th√¥i.</span></button>
                <button class="option-btn" onclick="choose('B')"><span class="option-icon">üé≤</span> <span>B·∫•m Random Matching ngay v√† lu√¥n!</span></button>
            </div>
        </div>
    </div>

    <div id="web-profile-page">
        <div class="profile-container">
            <div class="cover-photo"></div>
            <div class="profile-header">
                <img src="%62%C4%83%6E%67%2E%6A%70%67" alt="BƒÉng" class="profile-avatar" onerror="this.src='bang.jpg'">
                <div class="profile-title">
                    <h1>BƒÉng <span class="badge">MATCHED ‚úì</span></h1>
                    <div class="profile-subtitle">Ho·∫°t ƒë·ªông 1 ph√∫t tr∆∞·ªõc ‚Ä¢ ƒêang trong S·∫£nh ch·ªù</div>
                </div>
            </div>

            <div class="profile-content">
                <div class="info-card">
                    <h3>Th√¥ng tin H·ªçc vi√™n</h3>
                    <div class="info-item"><strong>üè¢ ƒê∆°n v·ªã:</strong> Sinh vi√™n ƒêH Ngo·∫°i Th∆∞∆°ng (FTU)</div>
                    <div class="info-item"><strong>üíª Chuy√™n m√¥n:</strong> Blockchain & Tr√≠ tu·ªá nh√¢n t·∫°o</div>
                    <div class="info-item"><strong>üéØ S·ªü tr∆∞·ªùng:</strong> X·ª≠ l√Ω, l√†m s·∫°ch d·ªØ li·ªáu l·ªõn</div>
                    <div class="info-item"><strong>üèÜ M·ª•c ti√™u:</strong> V√¥ ƒë·ªãch DSTC 2026</div>
                    <div class="info-item"><strong>üìñ Portfolio:</strong> ƒê√£ ƒë√≠nh k√®m (S√°ng l√°ng)</div>
                </div>

                <div class="chat-section">
                    <div class="chat-header">üí¨ K√™nh Chat Ri√™ng T∆∞</div>
                    <div id="chat-content" class="chat-body"></div>
                    <div id="chat-actions" class="chat-actions">
                        <button class="quick-reply" onclick="replyChat('thinh')">‚ù§ "C·∫≠u xinh v√† gi·ªèi qu√°. Team m√¨nh h·ª£p nhau ƒë·∫•y!"</button>
                        <button class="quick-reply bad" onclick="replyChat('ngao')">üíÄ "Portfolio c≈©ng s√°ng s·ªßa ƒë·∫•y. C∆° m√† ch∆∞a t√†y ƒë√¢u."</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="game-over-screen">
        <h1 class="game-over-text">[ GAME OVER ]</h1>
        <p id="game-over-sub" style="font-size: 24px; text-shadow: 2px 2px 5px #000, -1px -1px 0 #000; font-weight: bold;"></p>
    </div>

    <script>
        const textDisplay = document.getElementById('text-display');
        const panel = document.getElementById('panel');
        const options = document.getElementById('options');
        const blackOut = document.getElementById('black-out');
        const vnEngine = document.getElementById('vn-engine');
        const webProfile = document.getElementById('web-profile-page');

        function playVid(vidId) {
            document.querySelectorAll('.bg-video').forEach(v => { 
                v.classList.remove('active-vid'); 
                v.style.opacity = ''; 
                v.pause(); 
            });
            const v = document.getElementById(vidId);
            v.style.opacity = 1; 
            v.classList.add('active-vid');
            v.play().catch(e => console.log("L·ªói video:", e));
        }

        // K·ªäCH B·∫¢N INTRO ƒêI·ªÜN ·∫¢NH
        window.onload = () => {
            const logo = document.getElementById('logo-cte');
            const title = document.getElementById('game-title');
            const startBtn = document.getElementById('start-btn');
            
            // 1. Logo CTE hi·ªán l√™n sau 0.5s
            setTimeout(() => { 
                logo.style.opacity = 1; 
                logo.style.transform = 'scale(1)'; 
            }, 500);

            // 2. Sau 2.5s, Logo CTE m·ªù ƒëi v√† d·ªçn ƒë∆∞·ªùng cho V·∫§N DANH
            setTimeout(() => {
                logo.style.opacity = 0;
                
                // 3. ƒê·ª£i logo m·ªù h·∫≥n (1s) r·ªìi bung ch·ªØ V·∫§N DANH kh·ªïng l·ªì
                setTimeout(() => {
                    title.style.opacity = 1;
                    title.style.transform = 'scale(1)';
                }, 1000);

            }, 2500);

            // 4. N√∫t B·∫Øt ƒê·∫ßu hi·ªán l√™n b√™n d∆∞·ªõi ch·ªØ V·∫•n Danh
            setTimeout(() => { 
                startBtn.style.display = 'block'; 
                setTimeout(() => { startBtn.style.opacity = 1; }, 50);
            }, 5000);
        };

        function startGame() {
            document.getElementById('intro-screen').style.opacity = 0;
            setTimeout(() => {
                document.getElementById('intro-screen').style.display = 'none';
                
                playVid('vid-thiennhien'); 
                
                const tho = "‚ÄúC√≥ chi·∫øc √¥ ƒë√£ che r·∫•t l√¢u, m∆∞a t·∫°nh r·ªìi v·∫´n kh√¥ng mu·ªën kh√©p\nC√≥ ƒë√≥a hoa ƒë√£ ng·ª≠i r·∫•t l√¢u, t√†n ƒëi r·ªìi, v·∫´n kh√¥ng n·ª° v·ª©t\nC√≥ m·ªôt k√≠ ·ª©c t·ª±a hoa qu·ª≥nh 10 nƒÉm sau v·∫´n ch∆∞a th·ªÉ qu√™n‚Äù";
                typeWriter(tho, 85, 0, () => {
                    setTimeout(triggerBlackOut, 3000); 
                });
            }, 1000);
        }

        function typeWriter(text, speed, i = 0, callback) {
            panel.classList.remove('hide-panel');
            panel.classList.add('show-panel');
            if (i < text.length) {
                textDisplay.innerHTML = text.substring(0, i + 1) + '<span class="cursor"></span>';
                setTimeout(() => typeWriter(text, speed, i + 1, callback), speed);
            } else if (callback) callback();
        }

        function triggerBlackOut() {
            panel.classList.add('hide-panel'); 
            blackOut.style.opacity = 1; 
            
            setTimeout(() => {
                playVid('vid-timmatch'); 
                blackOut.style.opacity = 0; 
                
                setTimeout(() => {
                    const text2 = "Mu·ªôn r·ªìi kh√¥ng bi·∫øt c√≤n ai gh√©p n·ªØa kh√¥ng ƒë·∫•y...";
                    typeWriter(text2, 40, 0, () => {
                        options.style.display = 'block'; 
                    });
                }, 1000);
            }, 1500);
        }

        function choose(choice) {
            options.style.display = 'none';
            panel.classList.add('hide-panel'); 
            
            if (choice === 'A') { 
                playVid('vid-ngu');
                setTimeout(() => {
                    document.getElementById('game-over-screen').style.display = 'flex';
                    document.getElementById('game-over-sub').innerText = "L√¢n cu·ªôn tr√≤n trong chƒÉn ƒëi ng·ªß. Gi·∫£i ƒë·∫•u DSTC ƒë√†nh l·ª° h·∫πn.";
                }, 2000); 
            } else { 
                playVid('vid-matchxong');
                
                const vMatch = document.getElementById('vid-matchxong');
                vMatch.onended = () => { transitionToWebProfile(); };
                
                setTimeout(() => { if(webProfile.style.display !== 'block') transitionToWebProfile(); }, 4000);
            }
        }

        function transitionToWebProfile() {
            document.querySelectorAll('.bg-video').forEach(v => { v.style.opacity = 0; setTimeout(()=>v.pause(), 500); });
            vnEngine.style.opacity = 0;
            
            setTimeout(() => {
                vnEngine.style.display = 'none';
                webProfile.style.display = 'block';
                setTimeout(() => { webProfile.style.opacity = 1; }, 50);

                setTimeout(startWebChat, 1500);
            }, 1000);
        }

        function startWebChat() {
            const content = document.getElementById('chat-content');
            const actions = document.getElementById('chat-actions');
            
            content.innerHTML = `<div class="msg ice">C·∫≠u c√≥ ph·∫£i l√† L√¢n kh√¥ng?</div>`;
            
            setTimeout(() => {
                content.innerHTML += `<div class="msg ice">T·ªõ v·ª´a xem qua th√¥ng tin c·ªßa c·∫≠u tr√™n h·ªá th·ªëng. T·ªõ nghƒ© team m√¨nh s·∫Ω r·∫•t h·ª£p nhau ƒë·∫•y! üöÄ</div>`;
                content.scrollTop = content.scrollHeight; 
                
                setTimeout(() => { actions.style.display = 'block'; }, 800);
            }, 1500);
        }

        function replyChat(type) {
            const content = document.getElementById('chat-content');
            document.getElementById('chat-actions').style.display = 'none'; 
            
            if (type === 'thinh') {
                content.innerHTML += `<div class="msg me">T·ªõ c≈©ng v·ª´a ƒë·ªçc h·ªì s∆° c·ªßa c·∫≠u xong. C·∫≠u xinh v√† gi·ªèi qu√°. Team m√¨nh h·ª£p nhau ƒë·∫•y!</div>`;
                content.scrollTop = content.scrollHeight;
                
                setTimeout(() => { 
                    content.innerHTML += `<div class="msg ice">Hihi ∆°‚Ä¶ t·ªõ c·∫£m ∆°n c·∫≠u nh√© üòä Ch·ªët ƒë∆°n nha!</div>`; 
                    content.scrollTop = content.scrollHeight;
                }, 1500);
            } else {
                content.innerHTML += `<div class="msg me">Portfolio c≈©ng s√°ng s·ªßa ƒë·∫•y. C∆° m√† ch∆∞a t√†y ƒë√¢u.</div>`;
                content.scrollTop = content.scrollHeight;
                
                playVid('vid-ngaonghe');
                
                setTimeout(() => {
                    webProfile.style.opacity = 0;
                    setTimeout(() => { webProfile.style.display = 'none'; }, 500);
                    
                    setTimeout(() => {
                        document.getElementById('game-over-screen').style.display = 'flex';
                        document.getElementById('game-over-sub').innerText = "C√°i t·ªôi ng·∫°o ngh·ªÖ! BƒÉng ƒë√£ H·ªßy Match.";
                    }, 1500);
                    
                }, 2000);
            }
        }
    </script>
</body>
</html>